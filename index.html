<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Firewall Simulator — Karndeep Baror</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="brand">Firewall Simulator</div>
    <div class="creator">by <strong>Karndeep Baror</strong></div>
  </header>

  <main>
    <section class="left panel">
      <h2>Network → Firewall → LAN</h2>

      <div class="network-row">
        <div class="net-box" id="internet">Internet</div>

        <div class="fw-box">
          <div class="fw-title">Firewall (decision plane)</div>
          <div class="fw-front" id="fwFront" title="Packets animate through here"></div>
          <div class="fw-legend">
            <span class="badge">ALLOW</span> <span class="badge deny">DENY</span>
            <span class="badge mal">MALICIOUS</span> <span class="badge state">STATEFUL</span>
          </div>
        </div>

        <div class="net-box" id="lan">Local Network (LAN)</div>
      </div>

      <div class="controls">
        <button id="startBtn" class="btn primary">Start</button>
        <button id="stopBtn" class="btn">Stop</button>
        <button id="stepBtn" class="btn">Step</button>
        <label class="inline"><input type="checkbox" id="autoMal" /> Auto-malicious</label>
        <label class="inline"><input type="checkbox" id="statefulToggle" checked /> Stateful mode</label>
        <label class="inline"><input type="checkbox" id="natToggle" checked /> NAT mode</label>
      </div>

      <div class="generator">
        <h4>Manual Packet Generator</h4>
        <div class="row">
          <select id="protoSel"><option>TCP</option><option>UDP</option><option>ICMP</option></select>
          <input id="srcIp" placeholder="Src IP (e.g. 203.0.113.5)" />
          <input id="dstIp" placeholder="Dst IP (e.g. 10.0.0.5)" />
          <input id="port" placeholder="Dst Port (e.g. 80)" />
          <select id="threatSelect"><option value="benign">Benign</option><option value="scan">Port scan</option><option value="exploit">Exploit attempt</option></select>
          <select id="payloadSignature">
            <option value="">No payload</option>
            <option value="sql">SQLi signature: 'UNION SELECT'</option>
            <option value="xss">&lt;script&gt; (XSS)</option>
            <option value="shell">/bin/bash</option>
          </select>
          <button id="sendPkt" class="btn">Send Packet</button>
        </div>

        <h4>Packet Templates</h4>
        <div class="row">
          <button id="tplHttp" class="btn">HTTP GET</button>
          <button id="tplScan" class="btn">Port Scan</button>
          <button id="tplExploit" class="btn">Exploit Payload</button>
        </div>
      </div>
    </section>

    <aside class="right panel">
      <h3>Firewall Rules (top → down)</h3>

      <div id="rulesList" class="rulesBox"></div>

      <div class="rule-editor">
        <input id="ruleSrc" placeholder="src (any or 203.0.113.5)" />
        <input id="ruleDst" placeholder="dst (any or 10.0.0.5)" />
        <input id="ruleProto" placeholder="proto (TCP/UDP/ICMP or any)" />
        <input id="rulePort" placeholder="port (80 or 1024-2048 or any)" />
        <select id="ruleAction"><option>ALLOW</option><option>DENY</option></select>
        <select id="ruleLog"><option value="true">Log</option><option value="false">No Log</option></select>
        <button id="addRule" class="btn primary">Add Rule</button>
      </div>

      <h4>Port Forward / NAT</h4>
      <div class="rule-editor">
        <input id="natExternal" placeholder="External port (e.g. 8080)" />
        <input id="natInternal" placeholder="Internal host:port (e.g. 10.0.0.5:80)" />
        <button id="addNat" class="btn">Add Port Forward</button>
        <div id="natList" class="rulesBox"></div>
      </div>

      <h4>Connection Table (stateful)</h4>
      <div id="connTable" class="logbox small"></div>

      <h4>Logs</h4>
      <div id="logs" class="logbox"></div>

      <div class="small muted">Tip: rules are matched top→down. The first match decides. Default policy = DENY.</div>

      <hr/>
      <div style="display:flex;gap:8px;margin-top:8px">
        <button id="exportBtn" class="btn">Export rules</button>
        <button id="importBtn" class="btn">Import JSON</button>
        <input id="importFile" type="file" accept=".json" style="display:none" />
      </div>
    </aside>
  </main>

  <footer>
    <div>Interactive firewall simulator — educational demo. Use for learning only.</div>
    <div class="social">
      <a href="https://instagram.com/karndeepbaror" target="_blank">IG: @karndeepbaror</a> |
      <a href="https://www.youtube.com/@CryptArea" target="_blank">YT: @CryptArea</a>
    </div>
  </footer>

  <script src="script.js"></script>
</body>
</html>
